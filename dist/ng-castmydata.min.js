(function(){angular.module("NgCastMyData",[]).value("CastMyDataServer","").factory("NgCastMyDataEndpoint",["CastMyDataServer","$timeout",function(t,n){var o=function(t,n){for(var o in t)t.hasOwnProperty(o)&&n(t[o],o)};return function(i){var e=new CastMyData.Endpoint(t,i);return e.__proto__.bindToScope=function(t,i){var e=t[i]=[];return this.on("records",function(t){e.splice(0,e.length),t.forEach(function(t){e.push(t)})}),this.on("post",function(t){e.push(t)}),this.on("put",function(t){var n=e.filter(function(n){return n.id==t.id}).pop();n&&o(t,function(t,o){n[o]=t})}),this.on("delete",function(t){var n=e.filter(function(n){return n.id==t.id}).pop(),o=e.indexOf(n);n&&o>-1&&e.splice(o,1)}),this.on("records post put delete broadcast",function(){n(function(){t.$digest()})}),this.models.length>0&&(angular.extend(e,this.models),n(function(){t.$digest()})),this},e}}])}).call(this);